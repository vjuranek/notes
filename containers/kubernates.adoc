= Kubernates

== Pods

* `kubectl get deployments` list deployments

* `kubectl run kube-test --image=vjuranek/kubetest --port=8080 --generator=run/v1`
* `kubectl delete all --all`

* `kubectl get pods`
* `kubectl get services`
* `kubectl describe pods`
* `kubectl create -f app.yaml`
* `kubectl delete pod $POD_NAME`

== Replication controllers

Deprecated, ReplicaSet should be used instead.

* `kubectl get rc` - get replication controllers
* `kubectl scale rc app_rc --replicas=3`

== Services

* `kubectl expose rc app_rc --type=LoadBalancer --name app-http`
* `kubectl get svc` - get service


== Deployments

* `kubectl expose deployment $DEPLOY_NAME --type=LoadBalancer`

== Config

* `kubectl config view`

== Debug

* `kubectl logs $POD_NAME`
* `kubectl logs $POD_NAME -c $CONTAINER_NAME` - in case pod contains multiple containers
* `kubectl get events`
* `kubectl cluster-info`
* `kubectl cluster-info dump`


== Netwotking

* `kubectl port-forward app $LOCAL_PORT:$POD_PORT`

== Minikube

* `minikube start --vm-driver=kvm2` - start minikube using kvm driver
* `minikube config set vm-driver kvm2` - make kvm2 default driver
* `minikune ssh` - ssh to Minikube VM
* `minikube dashboard` - start dashboard
* `minikube delete`


=== References
* https://medium.com/google-cloud/understanding-kubernetes-networking-pods-7117dd28727
* https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82
* https://medium.com/google-cloud/understanding-kubernetes-networking-ingress-1bc341c84078
